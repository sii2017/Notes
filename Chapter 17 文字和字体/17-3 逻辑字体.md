## 逻辑字体
逻辑字体是一个GDI对象，它的句柄储存在HFONT型态的变量中，逻辑字体是字体的描述。和逻辑画笔及逻辑画刷一样，它是抽象的对象，只有当应用程序呼叫SelectObject将它选入设备内容时，它才成为真实的对象。例如，对于逻辑画笔，您可以为画笔指定任意的颜色，但是在您将画笔选入设备内容时，Windows才将其转换为设备中有效的颜色。只有此时，Windows才知道设备的色彩能力。
### 逻辑字体的建立和选择
可以透过呼叫CreateFont或CreateFontIndirect来建立逻辑字体。  
CreateFontIndirect函数接受一个指向LOGFONT结构的指针，该结构有14个字段。  
CreateFont函数接受14个参数，它们与LOGFONT结构的14个字段形式相同。   
它们是仅有的两个建立逻辑字体的函数。因为很难记住14个字段，所以很少使用CreateFont。因此，主要讨论CreateFontIndirect。   
有三种基本的方式用于定义LOGFONT结构中的字段，以便呼叫CreateFontIndirect：  
1 可以简单地将LOGFONT结构的字段设定为所需的字体特征。在这种情况下，在呼叫SelectObject时，Windows使用「字体映像」算法从设备上有效的字体中选择与这些特征最匹配的字体。由于这依赖于视讯显示器和打印机上的有效字体，所以其结果可能与您的要求有相当大的差别。   
2 可以列举设备上的所有字体并从中选择，甚至用对话框把它们显示给使用者。我将在本章后面讨论字体列举函数。不过，它们现在已经不常用了，因为第三种方法也可以进行列举。   
3 可以采用简单的方法并呼叫ChooseFont函数，我在第十一章曾讨论过这个函数，能够使用LOGFONT结构直接建立字体。  
在本章，将使用第一种和第三种方法。  
下面是建立、选择和删除逻辑字体的过程：  
1 通过调用CreateFont或CreateFontIndirect建立逻辑字体，这些函数传回HFONT型态的逻辑字体句柄。   
2 使用SelectObject将逻辑字体选入设备内容，Windows会选择与逻辑字体最匹配的真实字体。   
3 使用GetTextMetrics（及可能用到的其它函数）确定真实字体的大小和特征。在该字体选入设备内容后，可以使用这些信息来适当地设定文字的间距。   
4 使用完逻辑字体后，调用DeleteObject删除逻辑字体，当字体被选入有效的设备内容时，不要删除字体，也不要删除备用字体。  
GetTextFace函数使程序能够确定目前选入设备内容的字体名称：   
```c
GetTextFace (hdc, sizeof (szFaceName) / sizeof (TCHAR), szFaceName) ;   
```
详细的字体信息可以从GetTextMetrics中得到：    
```c
GetTextMetrics (hdc, &textmetric) ;   
```
其中，textmetric是TEXTMETRIC型态的变量，它具有20个字段。
稍后将详细讨论LOGFONT和TEXTMETRIC结构的字段，这两个结构有一些相似的字段，所以它们容易混淆。   
目前只需记住，**LOGFONT用于定义逻辑字体，而TEXTMETRIC用于取得目前选入设备内容中的字体信息**。   
### PICKFONT程序
程序PICKFONT，可以定义LOGFONT结构的许多字段。这个程序建立逻辑字体，并在逻辑字体选入设备内容后显示真实字体的特征。这是个方便的程序，通过它我们可以了解逻辑字体映像为真实字体的方式。   
参考PICKFONT.C
### 逻辑字体结构
### 字体映像算法
### 取得字体信息
### 字符集和Unicode
### EZFONT系统
参考EZFONT
### 字体的旋转
参考FONTROT.C