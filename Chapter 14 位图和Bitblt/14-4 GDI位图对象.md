## GDI位图对象
本章前面已提到过Windows从1.0开始就支持GDI位图对象。因为在Windows 3.0发表了**设备无关位图**，之前的GDI位图对象有时也称为**设备相关位图**，或者**DDB**。   
对程序写作者来说，现存的两种不同型态的位图从Windows 3.0开始就更为混乱。许多有经验的Windows程序写作者都不能准确地理解DIB和DDB之间的关系。**诚然，DIB和DDB在许多方面是相关的：DIB与DDB能相互转换（尽管转换程序中会丢失一些信息）。然而DIB和DDB是不可以相互替换的，并且不能简单地选择一种方法来表示同一个可视数据。**    
如果我们能假设说DIB一定会替代DDB，那以后就会很方便了。但现实并不是如此，DDB还在Windows中扮演着很重要角色，尤其是您在乎程序执行表现好坏时。   
> 设备相关位图(DDB)与设备无关位图(DIB) 的区别   
> 1 设备相关位图DDB(Device-Dependent-Bitmap)不具有自己的调色板信息，他的颜色模式必须与输出设备相一致。如：在256色以下的位图中存储的像素值是系统调色板的索引，其颜色依赖于系统调色板。由于DDB高度依赖输出设备，所以DDB只能存在于内存中，它要么在视频内存中，要么在系统内存中。     
> 2 设备无关位图DIB(Device-Independent-Bitmap)具有自己的调色板信息，他可以不依赖系统的调色板。由于他不依赖于设备，所以通常用它来保存文件，如.bmp格式的文件就是DIB。    
### 建立DDB
DDB是Windows图形设备接口的图形对象之一（其中还包括绘图笔、画刷、字体、metafile和调色盘）。这些图形对象储存在GDI模块内部，由应用程序软件以句柄数字的方式引用。如：   
```c
HBITMAP hBitmap;    
```   
然后通过调用DDB建立的函数CreateBitmap（**第一个位图建立函数**）来获得句柄。这些函数配置并初始化GDI内存中的一些内存来储存关于位图的信息，以及实际位图位的信息。应用程序不能直接存取这段内存。当程序使用完位图后，就要清除内存：DeleteObject。    
```c
//以下为函数用法    
hBitmap= CreateBitmap (cx, cy, cPlanes, cBitsPixel, bits);    
DeleteObject (hBitmap);    
```    
CreateBitmap的前两个参数是位图的宽度和高度（以图素为单位），第三个参数是颜色面的数目，第四个参数是每图素的位数，第五个参数是指向一个以特定颜色格式存放的位数组的指针，**数组内存有用来初始化该DDB的图像**。。如果不想用一张现有的图像来初始化DDB，可以将最后一个参数设为NULL，并且可以以后再设定该DDB内图素的内容。     
使用此函数时，也允许建立特定型态的GDI位图对象。例如，假设希望位图宽7个图素、高9个图素、5个?色位面，并且每个图素占3位，只需要这样编写：CreateBitmap(7, 9, 5, 3, NULL)。     
//这里分析了内存什么的，一顿操作，最后说明结论这个位图什么用都没有   
实际上，我们将用两种形态的参数来调用CreateBitmap。   
1 cPlanes和cBitsPixel都等于1（表示单色位图）    
2 cPlanes和cBitsPixel都等于某个特定设备内容的值，您可以使用PLANES和BITSPIXEL索引来从GetDeviceCaps函数获得。    
更现实的情况下我们只会用第一种情况来调用函数。对于第二种情况，我们可以用**第二个位图建立函数**CreateCompatibleBitmap来简化问题：   
```c
hBitmap = CreateCompatibleBitmap (hdc, cx, cy);   
```     
这个函数建立了一个与设备兼容的位图，第一个参数是设备内容句柄。CreateCompatibleBitmap用设备内容句柄来获得GetDeviceCaps信息，然后将此信息传递给CreateBitmap。除了与实际的设备内容有相同的内存组织之外，DDB与设备内容没有其它联系。    
**第三个位图建立函数**是CreateBitmapIndirect：   
```
hBitmap CreateBitmapIndirect (&bitmap);    
```   

### 位图位
### 内存设备内容
### 载入位图资源
参考BRICKS1.C
### 单色位图格式
参考BRICKS2.C
### 位图中的画刷
参考BRICHS3.C
### 绘制位图
参考HELLOBIT.C
### 阴影位图
参考SKETCH.C
### 在菜单中使用位图
参考GRAFMENU.C
### 非矩形位图图像
参考BITMASK.C
### 简单的动画
参考BOUNCE.C
### 窗口外的位图
参考SCRAMBLE.C    
参考BLOWUP.C